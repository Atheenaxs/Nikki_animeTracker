<!-- Login Modal --> 
<div id="loginModal" class="fixed inset-0 z-50 flex items-center justify-center hidden modal">
  <div class="absolute inset-0 bg-black bg-opacity-50" id="loginModalOverlay"></div>
  <div class="bg-[#252530] rounded-lg w-full max-w-md p-6 z-10 relative">
    <button id="closeLoginModal" class="absolute top-4 right-4 text-gray-400 hover:text-white">
      <div class="w-6 h-6 flex items-center justify-center"><i class="ri-close-line ri-lg"></i></div>
    </button>

    <h2 class="text-2xl font-bold mb-6">Connexion</h2>
    <form id="loginForm">
      {% csrf_token %}
      <div class="mb-4">
        <label for="loginEmail" class="block text-sm font-medium text-gray-300 mb-2">Adresse e-mail</label>
        <input type="text" id="loginEmail" class="w-full px-4 py-3 bg-[#1f1f1f] border-none rounded focus:ring-2 focus:ring-primary text-white" placeholder="Votre adresse e-mail" required>
      </div>
      <div class="mb-6">
        <label for="loginPassword" class="block text-sm font-medium text-gray-300 mb-2">Mot de passe</label>
        <input type="password" id="loginPassword" class="w-full px-4 py-3 bg-[#1f1f1f] border-none rounded focus:ring-2 focus:ring-primary text-white" placeholder="••••••••" required>
      </div>
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center">
          <input type="checkbox" id="rememberMe" class="custom-checkbox mr-2">
          <label for="rememberMe" class="text-sm text-gray-300">Se souvenir de moi</label>
        </div>
        <a href="#" class="text-sm text-primary hover:underline">Mot de passe oublié ?</a>
      </div>
      <button type="submit" class="w-full py-3 bg-primary hover:bg-opacity-90 text-white font-medium !rounded-button whitespace-nowrap">Se connecter</button>
    </form>

    <div id="loginError" class="text-red-500 mt-2 hidden">Identifiants invalides. Veuillez réessayer.</div>
    <div class="mt-6 text-center">
      <p class="text-gray-400">Pas encore de compte ? <a href="#" id="switchToSignup" class="text-primary hover:underline">S'inscrire</a></p>
    </div>
  </div>
</div>

<!-- Signup Modal -->
<div id="signupModal" class="fixed inset-0 z-50 flex items-start justify-center overflow-y-auto pt-10 hidden modal">
  <div class="relative bg-[#252530] rounded-lg w-full max-w-md p-6 my-10">
  <div class="bg-[#252530] rounded-lg w-full max-w-md p-6 z-10 relative mt-10 mb-10">
    <button id="closeSignupModal" class="absolute top-4 right-4 text-gray-400 hover:text-white">
      <div class="w-6 h-6 flex items-center justify-center">
        <i class="ri-close-line ri-lg"></i>
      </div>
    </button>

    <h2 class="text-2xl font-bold mb-6">Inscription</h2>

    <form id="signupForm">
      <div class="mb-4">
        <label for="signupName" class="block text-sm font-medium text-gray-300 mb-2">Nom d'utilisateur</label>
        <input type="text" id="signupName" name="username" class="w-full px-4 py-3 bg-[#1f1f1f] border-none rounded focus:ring-2 focus:ring-primary text-white" placeholder="ex: JeanDupont42" required>
      </div>

      <div class="mb-4">
        <label for="signupEmail" class="block text-sm font-medium text-gray-300 mb-2">Email</label>
        <input type="email" id="signupEmail" name="email" class="w-full px-4 py-3 bg-[#1f1f1f] border-none rounded focus:ring-2 focus:ring-primary text-white" placeholder="votre@email.com" required>
      </div>

      <div class="mb-4">
        <label for="signupPassword" class="block text-sm font-medium text-gray-300 mb-2">Mot de passe</label>
        <input type="password" id="signupPassword" name="password" class="w-full px-4 py-3 bg-[#1f1f1f] border-none rounded focus:ring-2 focus:ring-primary text-white" placeholder="••••••••" required>
      </div>

      <div class="mb-6">
        <label for="signupPasswordConfirm" class="block text-sm font-medium text-gray-300 mb-2">Confirmer le mot de passe</label>
        <input type="password" id="signupPasswordConfirm" class="w-full px-4 py-3 bg-[#1f1f1f] border-none rounded focus:ring-2 focus:ring-primary text-white" placeholder="••••••••" required>
      </div>

      <div class="mb-4">
        <label for="signupAvatar" class="block text-sm font-medium text-gray-300 mb-2">Avatar (URL)</label>
        <input type="url" id="signupAvatar" name="avatar" class="w-full px-4 py-3 bg-[#1f1f1f] border-none rounded focus:ring-2 focus:ring-primary text-white" placeholder="https://...">
      </div>

      <div class="flex items-start mb-6 space-x-2">
        <input type="checkbox" id="termsAgree" name="termsAgree" class="mt-1" required>

        <div class="text-sm text-gray-300">
          <label for="termsAgree">
            J'accepte les
          </label>
          <a href="#" id="showTermsModal" class="text-primary hover:underline">conditions d'utilisation</a>
          et la
          <a href="#" id="showPrivacyModal" class="text-primary hover:underline">politique de confidentialité</a>
          *
        </div>
      </div>

      <button type="submit" class="w-full py-3 bg-primary hover:bg-opacity-90 text-white font-medium !rounded-button whitespace-nowrap">
        Créer un compte
      </button>
    </form>

    <div class="mt-6 text-center">
      <p class="text-gray-400">Déjà inscrit ? <a href="#" id="switchToLogin" class="text-primary hover:underline">Se connecter</a></p>
    </div>
  </div>
</div>


<!-- Terms Modal -->
<div id="termsModal" class="fixed inset-0 z-50 flex items-center justify-center hidden modal">
  <div class="absolute inset-0 bg-black bg-opacity-50" id="termsModalOverlay"></div>
  <div class="bg-[#252530] text-white rounded-lg w-full max-w-2xl p-6 z-10 relative max-h-[90vh] overflow-y-auto">
    <button id="closeTermsModal" class="absolute top-4 right-4 text-gray-400 hover:text-white">
      <i class="ri-close-line ri-lg"></i>
    </button>
    <h2 class="text-2xl font-bold mb-4">Conditions d’utilisation</h2>
    <p class="mb-4">
      En utilisant Nikki, vous acceptez les conditions suivantes. L'application vous permet de suivre vos animes préférés, mais ne garantit pas l’exactitude permanente des données fournies.
    </p>
    <p class="mb-4">
      Vous vous engagez à utiliser Nikki de manière personnelle et non commerciale. Toute tentative de détournement, scraping ou copie de données est strictement interdite.
    </p>
    <p class="mb-4">
      Nikki se réserve le droit de modifier les présentes conditions à tout moment. Nous vous recommandons de les consulter régulièrement.
    </p>
  </div>
</div>

<!-- Privacy Modal -->
<div id="privacyModal" class="fixed inset-0 z-50 flex items-center justify-center hidden modal">
  <div class="absolute inset-0 bg-black bg-opacity-50" id="privacyModalOverlay"></div>
  <div class="bg-[#252530] text-white rounded-lg w-full max-w-2xl p-6 z-10 relative max-h-[90vh] overflow-y-auto">
    <button id="closePrivacyModal" class="absolute top-4 right-4 text-gray-400 hover:text-white">
      <i class="ri-close-line ri-lg"></i>
    </button>
    <h2 class="text-2xl font-bold mb-4">Politique de confidentialité</h2>
    <p class="mb-4">
      Nikki respecte votre vie privée. Les données que vous nous fournissez (email, nom d’utilisateur) ne sont ni vendues ni partagées avec des tiers.
    </p>
    <p class="mb-4">
      Nous collectons des informations pour améliorer votre expérience utilisateur. Vous pouvez demander la suppression de vos données personnelles à tout moment.
    </p>
    <p class="mb-4">
      Notre site peut contenir des liens vers des plateformes externes. Nous ne sommes pas responsables de leur politique de confidentialité.
    </p>
  </div>
</div>
